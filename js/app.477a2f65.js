(function(){"use strict";var t={4561:function(t,e,a){var s=a(144),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},n=[],o=a(1001),r={},l=(0,o.Z)(r,i,n,!1,null,null,null),c=l.exports,u=(a(7658),a(8345)),d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"permission_denied"},[e("vue-particles",{attrs:{id:"tsparticles",particlesInit:t.particlesInit,particlesLoaded:t.particlesLoaded,options:t.options}}),e("div",{staticClass:"denied__wrapper"},[e("h1",[t._v(t._s(t.notFound.code))]),e("h3",{domProps:{innerHTML:t._s(t.notFound.message)}}),e("img",{attrs:{id:"astronaut",src:a(318)}}),e("img",{attrs:{id:"planet",src:a(7665)}}),e("a",{attrs:{href:"#"}},[e("button",{staticClass:"denied__link",on:{click:t.goHome}},[t._v("Go Home")])])])],1)},m=[],p=JSON.parse('{"autoPlay":true,"background":{"color":{"value":"#000000"},"image":"","position":"","repeat":"","size":"","opacity":1},"backgroundMask":{"composite":"destination-out","cover":{"color":{"value":"#fff"},"opacity":1},"enable":false},"defaultThemes":{},"delay":0,"fullScreen":{"enable":true,"zIndex":-1},"detectRetina":true,"duration":0,"fpsLimit":120,"interactivity":{"detectsOn":"window","events":{"onClick":{"enable":false,"mode":[]},"onDiv":{"selectors":[],"enable":false,"mode":[],"type":"circle"},"onHover":{"enable":false,"mode":[],"parallax":{"enable":false,"force":2,"smooth":10}},"resize":{"delay":0.5,"enable":true}},"modes":{"trail":{"delay":1,"pauseOnStop":false,"quantity":1},"attract":{"distance":200,"duration":0.4,"easing":"ease-out-quad","factor":1,"maxSpeed":50,"speed":1},"bounce":{"distance":200},"bubble":{"distance":200,"duration":0.4,"mix":false,"divs":{"distance":200,"duration":0.4,"mix":false,"selectors":[]}},"connect":{"distance":80,"links":{"opacity":0.5},"radius":60},"grab":{"distance":100,"links":{"blink":false,"consent":false,"opacity":1}},"push":{"default":true,"groups":[],"quantity":4},"remove":{"quantity":2},"repulse":{"distance":200,"duration":0.4,"factor":100,"speed":1,"maxSpeed":50,"easing":"ease-out-quad","divs":{"distance":200,"duration":0.4,"factor":100,"speed":1,"maxSpeed":50,"easing":"ease-out-quad","selectors":[]}},"slow":{"factor":3,"radius":200},"light":{"area":{"gradient":{"start":{"value":"#ffffff"},"stop":{"value":"#000000"}},"radius":1000},"shadow":{"color":{"value":"#000000"},"length":2000}}}},"manualParticles":[],"particles":{"bounce":{"horizontal":{"random":{"enable":false,"minimumValue":0.1},"value":1},"vertical":{"random":{"enable":false,"minimumValue":0.1},"value":1}},"collisions":{"absorb":{"speed":2},"bounce":{"horizontal":{"random":{"enable":false,"minimumValue":0.1},"value":1},"vertical":{"random":{"enable":false,"minimumValue":0.1},"value":1}},"enable":false,"maxSpeed":50,"mode":"bounce","overlap":{"enable":true,"retries":0}},"color":{"value":"#fff","animation":{"h":{"count":0,"enable":false,"offset":0,"speed":20,"delay":0,"decay":0,"sync":true},"s":{"count":0,"enable":false,"offset":0,"speed":1,"delay":0,"decay":0,"sync":true},"l":{"count":0,"enable":false,"offset":0,"speed":1,"delay":0,"decay":0,"sync":true}}},"groups":{"z5000":{"number":{"value":70},"zIndex":{"value":50}},"z7500":{"number":{"value":30},"zIndex":{"value":75}},"z2500":{"number":{"value":50},"zIndex":{"value":25}},"z1000":{"number":{"value":40},"zIndex":{"value":10}}},"move":{"angle":{"offset":0,"value":10},"attract":{"distance":200,"enable":false,"rotate":{"x":600,"y":1200}},"center":{"x":50,"y":50,"mode":"percent","radius":0},"decay":0,"distance":{},"direction":"right","drift":0,"enable":true,"gravity":{"acceleration":9.81,"enable":false,"inverse":false,"maxSpeed":50},"path":{"clamp":true,"delay":{"random":{"enable":false,"minimumValue":0},"value":0},"enable":false,"options":{}},"outModes":{"default":"out","bottom":"out","left":"out","right":"out","top":"out"},"random":false,"size":false,"speed":5,"spin":{"acceleration":0,"enable":false},"straight":false,"trail":{"enable":false,"length":10,"fill":{}},"vibrate":false,"warp":false},"number":{"density":{"enable":false,"width":1920,"height":1080},"limit":0,"value":200},"opacity":{"random":{"enable":false,"minimumValue":0.1},"value":1,"animation":{"count":0,"enable":false,"speed":3,"decay":0,"delay":0,"sync":false,"mode":"auto","startValue":"random","destroy":"none","minimumValue":0.1}},"reduceDuplicates":false,"shadow":{"blur":0,"color":{"value":"#000"},"enable":false,"offset":{"x":0,"y":0}},"shape":{"close":true,"fill":true,"options":{},"type":"circle"},"size":{"random":{"enable":false,"minimumValue":1},"value":3,"animation":{"count":0,"enable":false,"speed":5,"decay":0,"delay":0,"sync":false,"mode":"auto","startValue":"random","destroy":"none"}},"stroke":{"width":0},"zIndex":{"random":{"enable":false,"minimumValue":0},"value":5,"opacityRate":0.5,"sizeRate":1,"velocityRate":1},"destroy":{"bounds":{},"mode":"none","split":{"count":1,"factor":{"random":{"enable":false,"minimumValue":0},"value":3},"rate":{"random":{"enable":false,"minimumValue":0},"value":{"min":4,"max":9}},"sizeOffset":true,"particles":{}}},"roll":{"darken":{"enable":false,"value":0},"enable":false,"enlighten":{"enable":false,"value":0},"mode":"vertical","speed":25},"tilt":{"random":{"enable":false,"minimumValue":0},"value":0,"animation":{"enable":false,"speed":0,"decay":0,"sync":false},"direction":"clockwise","enable":false},"twinkle":{"lines":{"enable":false,"frequency":0.05,"opacity":1},"particles":{"enable":false,"frequency":0.05,"opacity":1}},"wobble":{"distance":5,"enable":false,"speed":{"angle":50,"move":10}},"life":{"count":0,"delay":{"random":{"enable":false,"minimumValue":0},"value":0,"sync":false},"duration":{"random":{"enable":false,"minimumValue":0.0001},"value":0,"sync":false}},"rotate":{"random":{"enable":false,"minimumValue":0},"value":0,"animation":{"enable":false,"speed":0,"decay":0,"sync":false},"direction":"clockwise","path":false},"orbit":{"animation":{"count":0,"enable":false,"speed":1,"decay":0,"delay":0,"sync":false},"enable":false,"opacity":1,"rotation":{"random":{"enable":false,"minimumValue":0},"value":45},"width":1},"links":{"blink":false,"color":{"value":"#ffffff"},"consent":false,"distance":100,"enable":false,"frequency":1,"opacity":0.4,"shadow":{"blur":5,"color":{"value":"#000"},"enable":false},"triangles":{"enable":false,"frequency":1},"width":1,"warp":false},"repulse":{"random":{"enable":false,"minimumValue":0},"value":0,"enabled":false,"distance":1,"duration":1,"factor":1,"speed":1}},"pauseOnBlur":true,"pauseOnOutsideViewport":true,"responsive":[],"smooth":false,"style":{},"themes":[],"zLayers":100,"emitters":{"autoPlay":true,"fill":true,"life":{"wait":false},"rate":{"quantity":1,"delay":7},"shape":"square","startCount":0,"size":{"mode":"percent","height":0,"width":0},"particles":{"shape":{"type":"images","options":{"images":{"src":"https://particles.js.org/images/cyan_amongus.png","width":500,"height":634}}},"size":{"value":40},"move":{"speed":10,"outModes":{"default":"none","right":"destroy"},"straight":true},"zIndex":{"value":0},"rotate":{"value":{"min":0,"max":360},"animation":{"enable":true,"speed":10,"sync":true}}},"position":{"x":-5,"y":55}},"motion":{"disable":false,"reduce":{"factor":4,"value":true}}}'),v=a(7918),h=a(629),f={name:"NotFound",computed:{...(0,h.rn)(["notFound"])},data(){return{particlesLoaded:{},options:{}}},methods:{particlesInit(t){(0,v.R)(t)},goHome(){this.$router.push({path:"/"})}},mounted(){this.options=p,this.particlesInit=async t=>{await(0,v.R)(t)},this.particlesLoaded=async t=>{console.log("Particles container loaded",t)}}},g=f,_=(0,o.Z)(g,d,m,!1,null,"eab723b2",null),y=_.exports,b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"permission_denied"},[e("vue-particles",{attrs:{id:"tsparticles",particlesInit:t.particlesInit,particlesLoaded:t.particlesLoaded,options:t.options}}),e("div",{staticClass:"denied__wrapper"},[e("h1",[t._v(t._s(t.pageError.code))]),e("h3",{domProps:{innerHTML:t._s(t.pageError.message)}}),e("img",{attrs:{id:"astronaut",src:a(318)}}),e("img",{attrs:{id:"planet",src:a(7665)}}),e("a",{attrs:{href:"#"}},[e("button",{staticClass:"denied__link",on:{click:t.goBack}},[t._v("Go Back")])])])],1)},C=[],k=JSON.parse('{"background":{"color":{"value":"#000000"}},"fpsLimit":120,"interactivity":{"events":{"onClick":{"enable":true,"mode":"push"},"onHover":{"enable":true,"mode":"repulse"},"resize":true},"modes":{"bubble":{"distance":400,"duration":2,"opacity":0.8,"size":40},"push":{"quantity":4},"repulse":{"distance":200,"duration":0.4}}},"particles":{"color":{"value":"#fff"},"links":{"color":"#fff","distance":150,"enable":true,"opacity":0.5,"width":1},"move":{"direction":"none","enable":true,"outMode":"bounce","random":false,"speed":3,"straight":false},"number":{"density":{"enable":true,"area":800},"value":80},"opacity":{"value":0.5},"shape":{"type":"circle"},"size":{"value":{"min":1,"max":5}}},"detectRetina":true}'),x={name:"PageError",computed:{...(0,h.rn)(["pageError"])},data(){return{particlesLoaded:{},options:{}}},methods:{particlesInit(t){(0,v.R)(t)},goBack(){this.$router.back()}},mounted(){this.options=k,this.particlesInit=async t=>{await(0,v.R)(t)},this.particlesLoaded=async t=>{console.log("Particles container loaded",t)}}},w=x,I=(0,o.Z)(w,b,C,!1,null,"6de35d0a",null),P=I.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("van-nav-bar",{attrs:{title:"会员登录","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("div",{staticClass:"container"},[t._m(0),e("div",{staticClass:"form"},[e("div",{staticClass:"form-item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],staticClass:"inp",attrs:{maxlength:"11",placeholder:"请输入手机号码",type:"text"},domProps:{value:t.mobile},on:{input:function(e){e.target.composing||(t.mobile=e.target.value)}}})]),e("div",{staticClass:"form-item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.picCode,expression:"picCode"}],staticClass:"inp",attrs:{maxlength:"5",placeholder:"请输入图形验证码",type:"text"},domProps:{value:t.picCode},on:{input:function(e){e.target.composing||(t.picCode=e.target.value)}}}),t.picUrl?e("img",{attrs:{src:t.picUrl,alt:""},on:{click:t.getPicCode}}):t._e()]),e("div",{staticClass:"form-item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.msgCode,expression:"msgCode"}],staticClass:"inp",attrs:{placeholder:"请输入短信验证码",type:"text"},domProps:{value:t.msgCode},on:{input:function(e){e.target.composing||(t.msgCode=e.target.value)}}}),e("button",{on:{click:t.getCode}},[t._v(" "+t._s(t.second===t.totalSecond?"获取验证码":t.second+"秒后重新发送")+" ")])])]),e("div",{ref:"loginButton",staticClass:"login-btn",class:{active:t.isActive},on:{click:t.login}},[t._v(" 登录 ")])])],1)},Z=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title"},[e("h3",[t._v("手机号登录")]),e("p",[t._v("未注册的手机号登录后将自动注册")])])}],L=(a(8479),a(9146));const A="luna_shopping_info",T=()=>{const t=localStorage.getItem(A);return t?JSON.parse(t):{token:"",userId:""}},z=t=>{localStorage.setItem(A,JSON.stringify(t))},E="luna_history_list",F=()=>{const t=localStorage.getItem(E);return t?JSON.parse(t):[]},O=t=>{localStorage.setItem(E,JSON.stringify(t))};var $={namespaced:!0,state(){return{userInfo:T()}},mutations:{setUserInfo(t,e){t.userInfo=e,z(e)}},actions:{},getters:{userInfo:t=>t.userInfo}};s.ZP.use(h.ZP);const q={state:{notFound:{code:404,message:" LOST IN <span>SPACE</span> App-Name? Hmm, looks like that page doesn't exist."},pageError:{code:500,message:"ERRPR IN <span>SPACE</span> App-Name? Hmm, looks like that page has error."}},mutations:{},getters:{notFound:t=>t.notFound,pageError:t=>t.pageError,token:t=>t.user.userInfo.token},modules:{user:$}},R=new h.ZP.Store(q);var V=R,N=a(6154);const U=N.Z.create({baseURL:"http://cba.itlike.com/public/index.php?s=/api/",timeout:5e3});function K(t){return B(t,{},{},{})}function B(t,e,a,s){return U.get(t,{headers:e,params:a,data:s})}function j(t,e){return D(t,{},{},JSON.stringify(e))}function D(t,e,a,s){return e=Object.assign({},U.defaults.headers.post,e),U.post(t,s,{headers:e,params:a})}U.defaults.headers.post["Content-Type"]="application/json",U.interceptors.request.use((function(t){L.Z.loading({message:"请求中...",forbidClick:!0,loadingType:"spinner",duration:0});const e=V.getters.token;return e&&(t.headers["Access-Token"]=e,t.headers.platform="H5"),t}),(function(t){return Promise.reject(t)})),U.interceptors.response.use((function(t){const e=t.data;return 200!==e.status?((0,L.Z)(e.message),Promise.reject(e.message)):(L.Z.clear(),e)}),(function(t){return Promise.reject(t)}));var J=U;const M=()=>K("/captcha/image"),H=(t,e,a)=>j("/captcha/sendSmsCaptcha",{form:{captchaCode:t,captchaKey:e,mobile:a}}),G=(t,e)=>j("/passport/login",{form:{isParty:!1,mobile:t,partyData:{},smsCode:e}});var W={name:"LoginPage",data(){return{isActive:!1,picUrl:"",picKey:"",totalSecond:60,second:60,timer:null,mobile:"15699996579",picCode:"",msgCode:"246810"}},async created(){this.getPicCode()},methods:{async getPicCode(){const{data:{base64:t,key:e}}=await M();this.picUrl=t,this.picKey=e},async login(){if(this.onClick(),!this.validFn())return;if(!/^\d{6}$/.test(this.msgCode))return void this.$toast("请输入正确的手机验证码");const t=await G(this.mobile,this.msgCode);this.$store.commit("user/setUserInfo",t.data);const e=this.$route.query.backUrl||"/";this.$router.replace(e),this.$toast("登录成功")},onClick(){this.isActive=!0,setTimeout((()=>{this.isActive=!1}),300)},async getCode(){this.validFn()&&(this.timer||this.second!==this.totalSecond||(await H(this.picCode,this.picKey,this.mobile),this.$toast("发送成功，请注意查收"),this.timer=setInterval((()=>{this.second--,this.second<1&&(clearInterval(this.timer),this.timer=null,this.second=this.totalSecond)}),1e3),this.$toast("发送成功，请注意查收")))},validFn(){return/^1[3-9]\d{9}$/.test(this.mobile)?!!/^\w{4}$/.test(this.picCode)||(this.$toast("请输入正确的图形验证码"),!1):(this.$toast("请输入正确的手机号"),!1)}},beforeDestroy(){clearInterval(this.timer),this.timer=null}},Y=W,Q=(0,o.Z)(Y,S,Z,!1,null,"49059ad7",null),X=Q.exports,tt=function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("Layout")]),e("router-view"),e("van-tabbar",{attrs:{"active-color":"#ee0a24","inactive-color":"#000"}},[e("van-tabbar-item",{attrs:{icon:"wap-home-o",to:"/home"}},[t._v("首页")]),e("van-tabbar-item",{attrs:{icon:"apps-o",to:"/category"}},[t._v("分类页")]),e("van-tabbar-item",{attrs:{icon:"shopping-cart-o",to:"/cart"}},[t._v("购物车")]),e("van-tabbar-item",{attrs:{icon:"user-o",to:"/user"}},[t._v("我的")])],1)],1)},et=[],at={name:"LayoutPage",data(){return{}},methods:{},mounted(){}},st=at,it=(0,o.Z)(st,tt,et,!1,null,null,null),nt=it.exports,ot=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},[e("van-nav-bar",{attrs:{title:"商品搜索","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词",clearable:""},scopedSlots:t._u([{key:"action",fn:function(){return[e("div",{on:{click:function(e){return t.goSearch(t.search)}}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.history.length>0?e("div",{staticClass:"search-history"},[e("div",{staticClass:"title"},[e("span",[t._v("最近搜索")]),e("van-icon",{attrs:{name:"delete-o",size:"16"},on:{click:t.clear}})],1),e("div",{staticClass:"list"},t._l(t.history,(function(a){return e("div",{key:a,staticClass:"list-item",on:{click:function(e){return t.goSearch(a)}}},[t._v(" "+t._s(a)+" ")])})),0)]):t._e()],1)},rt=[],lt=(a(541),{name:"SearchPage",data(){return{search:"",history:F()}},methods:{goSearch(t){const e=this.history.indexOf(t);-1!==e&&this.history.splice(e,1),this.history.unshift(t),O(this.history),this.$router.push(`/searchlist?search=${t}`)},clear(){this.history=[],O([]),this.$toast.success("清空历史成功")}}}),ct=lt,ut=(0,o.Z)(ct,ot,rt,!1,null,"6a5f23c6",null),dt=ut.exports,mt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},[e("van-nav-bar",{attrs:{fixed:"",title:"商品列表","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("van-search",{attrs:{readonly:"",shape:"round",background:"#ffffff",value:t.querySearch||"搜索商品","show-action":""},on:{click:function(e){return t.$router.push("/search")}},scopedSlots:t._u([{key:"action",fn:function(){return[e("van-icon",{staticClass:"tool",attrs:{name:"apps-o"}})]},proxy:!0}])}),t._m(0),e("div",{staticClass:"goods-list"},t._l(t.proList,(function(t){return e("GoodsItem",{key:t.goods_id,attrs:{item:t}})})),1)],1)},pt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"sort-btns"},[e("div",{staticClass:"sort-item"},[t._v("综合")]),e("div",{staticClass:"sort-item"},[t._v("销量")]),e("div",{staticClass:"sort-item"},[t._v("价格")])])}],vt=function(){var t=this,e=t._self._c;return t.item.goods_name?e("div",{staticClass:"goods-item",on:{click:function(e){return t.$router.push(`/prodetail/${t.item.goods_id}`)}}},[e("div",{staticClass:"left"},[e("img",{attrs:{src:t.item.goods_image,alt:""}})]),e("div",{staticClass:"right"},[e("p",{staticClass:"tit text-ellipsis-2"},[t._v(" "+t._s(t.item.goods_name)+" ")]),e("p",{staticClass:"count"},[t._v("已售 "+t._s(t.item.goods_sales)+"件")]),e("p",{staticClass:"price"},[e("span",{staticClass:"new"},[t._v("¥"+t._s(t.item.goods_price_min))]),e("span",{staticClass:"old"},[t._v("¥"+t._s(t.item.goods_price_max))])])])]):t._e()},ht=[],ft={props:{item:{type:Object,default:()=>({})}}},gt=ft,_t=(0,o.Z)(gt,vt,ht,!1,null,"4e3691e9",null),yt=_t.exports;const bt=t=>{const{categoryId:e,goodsName:a,page:s}=t;return J.get("/goods/list",{params:{categoryId:e,goodsName:a,page:s}})},Ct=t=>J.get("/goods/detail",{params:{goodsId:t}}),kt=(t,e)=>J.get("/comment/listRows",{params:{goodsId:t,limit:e}});var xt={name:"SearchListPage",components:{GoodsItem:yt},data(){return{page:1,proList:[]}},async created(){const{data:{list:t}}=await bt({categoryId:this.$route.query.categoryId,goodsName:this.querySearch,page:this.page});this.proList=t.data},computed:{querySearch(){return this.$route.query.search}}},wt=xt,It=(0,o.Z)(wt,mt,pt,!1,null,"62596151",null),Pt=It.exports,St=function(){var t=this;t._self._c;return t._m(0)},Zt=[function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("Pay")])])}],Lt={name:"PayPage",data(){return{}},methods:{},mounted(){}},At=Lt,Tt=(0,o.Z)(At,St,Zt,!1,null,null,null),zt=Tt.exports,Et=function(){var t=this;t._self._c;return t._m(0)},Ft=[function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("Order")])])}],Ot={name:"OrderPage",data(){return{}},methods:{},mounted(){}},$t=Ot,qt=(0,o.Z)($t,Et,Ft,!1,null,null,null),Rt=qt.exports,Vt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"prodetail"},[e("van-nav-bar",{attrs:{fixed:"",title:"商品详情页","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("van-swipe",{attrs:{autoplay:3e3},on:{change:t.onChange},scopedSlots:t._u([{key:"indicator",fn:function(){return[e("div",{staticClass:"custom-indicator"},[t._v(" "+t._s(t.current+1)+" / "+t._s(t.images.length)+" ")])]},proxy:!0}])},t._l(t.images,(function(t,a){return e("van-swipe-item",{key:a},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.external_url,expression:"image.external_url"}]})])})),1),e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[t._v("￥"+t._s(t.detail.goods_price_min))]),e("span",{staticClass:"oldprice"},[t._v("￥"+t._s(t.detail.goods_price_max))])]),e("div",{staticClass:"sellcount"},[t._v("已售"+t._s(t.detail.goods_sales)+"件")])]),e("div",{staticClass:"msg text-ellipsis-2"},[t._v(" "+t._s(t.detail.goods_name)+" ")]),e("div",{staticClass:"service"},[e("div",{staticClass:"left-words"},[e("span",[e("van-icon",{attrs:{name:"passed"}}),t._v("七天无理由退货")],1),e("span",[e("van-icon",{attrs:{name:"passed"}}),t._v("48小时发货")],1)]),e("div",{staticClass:"right-icon"},[e("van-icon",{attrs:{name:"arrow"}})],1)])]),t.total>0?e("div",{staticClass:"comment"},[e("div",{staticClass:"comment-title"},[e("div",{staticClass:"left"},[t._v("商品评价 ("+t._s(t.total)+"条)")]),e("div",{staticClass:"right"},[t._v("查看更多 "),e("van-icon",{attrs:{name:"arrow"}})],1)]),e("div",{staticClass:"comment-list"},t._l(t.commentList,(function(a){return e("div",{key:a.comment_id,staticClass:"comment-item"},[e("div",{staticClass:"top"},[e("img",{attrs:{src:a.user.avatar_url||t.defaultImg,alt:""}}),e("div",{staticClass:"name"},[t._v(t._s(a.user.nick_name))]),e("van-rate",{attrs:{size:16,value:a.score/2,color:"#ffd21e","void-icon":"star","void-color":"#eee"}})],1),e("div",{staticClass:"content"},[t._v(" "+t._s(a.content)+" ")]),e("div",{staticClass:"time"},[t._v(" "+t._s(a.create_time)+" ")])])})),0)]):t._e(),e("div",{staticClass:"tips"},[t._v("商品描述")]),e("div",{staticClass:"desc",domProps:{innerHTML:t._s(t.detail.content)}}),e("div",{staticClass:"footer"},[e("div",{staticClass:"icon-home"},[e("van-icon",{attrs:{name:"wap-home-o"}}),e("span",[t._v("首页")])],1),e("div",{staticClass:"icon-cart"},[t.cartTotal>0?e("span",{staticClass:"num"},[t._v(t._s(t.cartTotal))]):t._e(),e("van-icon",{attrs:{name:"shopping-cart-o"}}),e("span",[t._v("购物车")])],1),e("div",{staticClass:"btn-add",on:{click:t.addFn}},[t._v("加入购物车")]),e("div",{staticClass:"btn-buy",on:{click:t.buyFn}},[t._v("立刻购买")])]),e("van-action-sheet",{attrs:{title:"cart"===t.mode?"加入购物车":"立刻购买"},model:{value:t.showPannel,callback:function(e){t.showPannel=e},expression:"showPannel"}},[e("div",{staticClass:"product"},[e("div",{staticClass:"product-title"},[e("div",{staticClass:"left"},[e("img",{attrs:{src:t.detail.goods_image,alt:""}})]),e("div",{staticClass:"right"},[e("div",{staticClass:"price"},[e("span",[t._v("¥")]),e("span",{staticClass:"nowprice"},[t._v(t._s(t.detail.goods_price_min))])]),e("div",{staticClass:"count"},[e("span",[t._v("库存")]),e("span",[t._v(t._s(t.detail.stock_total))])])])]),e("div",{staticClass:"num-box"},[e("span",[t._v("数量")]),e("CountBox",{model:{value:t.addCount,callback:function(e){t.addCount=e},expression:"addCount"}})],1),t.detail.stock_total>0?e("div",{staticClass:"showbtn"},["cart"===t.mode?e("div",{staticClass:"btn",on:{click:t.addCart}},[t._v(" 加入购物车 ")]):t._e(),"buyNow"===t.mode?e("div",{staticClass:"btn now"},[t._v("立刻购买")]):t._e()]):e("div",{staticClass:"btn-none"},[t._v("该商品已抢完")])])])],1)},Nt=[],Ut="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAKlBMVEXp6en////9/f3o6Ojw8PDj4+Pl5eXh4eHs7Oz7+/v09PTy8vL4+Pj29vY+GdZKAAADDElEQVRYw+3Wv0sbYRjA8ZNwp+Li89YhUQO+b6F0PDTx6NBBtHXpcBDPRkvhakiC1CGghqIIyRCdOqQlHdouUoqlm1Co0KUZhK4tFPvn9MnF5n6+P4R2KT6EhJe8n3y5ewOJduXJXZNr8l+Tecd5uFu6CinbS18+LR06pjJxxl4ATuZD2anMaXMKxHkOl/P6LFVxCnJi3YXAvP34zZWR1A6E54aUVI8j5J4mIcZBRExLr8WKRk5cGdmHyFyYEqI3o2SqJiH5NkRHl5B9iE3HFBJjI07StpDoC3Ey7QrJfBviYwiJCwmzLCQ7SeRCSNaTyEtTQFKbSSTtishsIrEFxBi6Jn+FFAWk+iSR1PnEyHWTSObM5pJSG5KnxSWPgDMdk0ce88gMl6zzyE0uWRnsoWFyziUubiWMAiMM8AmdtwT4zL38fJcxRnAXw6EI+0sGBpfoTUJIbxfF6ZnL5aTNP/0DklSht1w+KVFK4xVY1vjkqEkSKtltAdH2IF6Bjisi1vd4BfSGiByukWiFjtvi35dKO1qBI01M8AZEKtmahKQ2wxVK07aEaCuRCj3XZKTSDl8L6FIyPESCFZisSYm2F76Wjisn5TZlgYrekJPWLPErdKKm8kfxGfgVODFVyHATBpXJbU2FpDYGdwzGi2rkzqBC064a2fIrSP5VZTZQsZVIa8i/Y1M1JTJ86p9LZrWhdpSB01c6SqtJ/ApM1RtSYmDErzB4b0uJc0qYXyEsUzUlpDoKNFgh9LZjCkn1KTAWqhD4umvyScrJUULDFTTvsMMhxu4YimiFUfhVLSSTvPsAUMQqhMKbw0ICGckXf3giVsEHZO6vxsiIVewC7kqsUAZksR4lerENjPAquCCLhTAxtrv4Lr+CT6Rlh4hzCpSKKozQrGUGiDUKjIkrjMBEvTEg+FXsfyJWiLfRm96LV+unGPy0B6R83NuI73qAeKq/9h4epjgZ6w/Rt8Db2EeBCq4DFdQztUuy2mWKA0d9oq8RVULTNY+UMaKcyfdIao+oE/rKRqIvsCtMtpT7DVEPKD7Ga13IAAAAAElFTkSuQmCC",Kt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"count-box"},[e("button",{staticClass:"minus",on:{click:t.handleSub}},[t._v("-")]),e("input",{staticClass:"inp",attrs:{type:"text"},domProps:{value:t.value},on:{change:t.handleChange}}),e("button",{staticClass:"add",on:{click:t.handleAdd}},[t._v("+")])])},Bt=[],jt={props:{value:{type:Number,default:1}},methods:{handleSub(){this.value<=1||this.$emit("input",this.value-1)},handleAdd(){this.$emit("input",this.value+1)},handleChange(t){const e=+t.target.value;isNaN(e)||e<1?t.target.value=this.value:this.$emit("input",e)}}},Dt=jt,Jt=(0,o.Z)(Dt,Kt,Bt,!1,null,"2bbaeec4",null),Mt=Jt.exports;const Ht=(t,e,a)=>J.post("/cart/add",{goodsId:t,goodsNum:e,goodsSkuId:a}),Gt=()=>J.get("/cart/total",{});var Wt={name:"ProDetail",data(){return{images:[],current:0,detail:{},total:0,commentList:[],defaultImg:Ut,mode:"cart",showPannel:!1,addCount:1,cartTotal:0}},components:{CountBox:Mt},async created(){this.getDetail(),this.getComments(),this.getCartTotal()},computed:{goodsId(){return this.$route.params.id}},methods:{onChange(t){this.current=t},addFn(){this.mode="cart",this.showPannel=!0},buyFn(){this.mode="buyNow",this.showPannel=!0},async getCartTotal(){const{data:t}=await Gt();this.cartTotal=t.cartTotal},async getComments(){const{data:{list:t,total:e}}=await kt(this.goodsId,3);this.commentList=t,this.total=e},async getDetail(){const{data:{detail:t}}=await Ct(this.goodsId);this.detail=t,this.images=t.goods_images},async addCart(){if(!this.$store.getters.token)return void this.$dialog.confirm({title:"温馨提示",message:"此时需要先登录才能继续操作哦",confirmButtonText:"去登录",cancelButtonText:"再逛逛"}).then((()=>{this.$router.replace({path:"/login",query:{backUrl:this.$route.fullPath}})})).catch((()=>{}));const{data:t}=await Ht(this.goodsId,this.addCount,this.detail.skuList[0].goods_sku_id);this.cartTotal=t.cartTotal,this.$toast("加入购物车成功"),this.showPannel=!1}}},Yt=Wt,Qt=(0,o.Z)(Yt,Vt,Nt,!1,null,"46936d38",null),Xt=Qt.exports,te=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("van-nav-bar",{attrs:{title:"小鹿商城",fixed:""}}),e("van-search",{attrs:{readonly:"",shape:"round",background:"#f1f1f2",placeholder:"请在此输入搜索关键词"},on:{click:function(e){return t.$router.push("/search")}}}),e("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},t._l(t.bannerList,(function(t){return e("van-swipe-item",{key:t.imgUrl},[e("img",{attrs:{src:t.imgUrl,alt:""}})])})),1),e("van-grid",{attrs:{"column-num":"5","icon-size":"40"}},t._l(t.navList,(function(a){return e("van-grid-item",{key:a.imgUrl,attrs:{icon:a.imgUrl,text:a.text},on:{click:function(e){return t.$router.push("/category")}}})})),1),t._m(0),e("div",{staticClass:"guess"},[e("p",{staticClass:"guess-title"},[t._v("—— 猜你喜欢 ——")]),e("div",{staticClass:"goods-list"},t._l(t.proList,(function(t){return e("GoodsItem",{key:t.goods_id,attrs:{item:t}})})),1)])],1)},ee=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("img",{attrs:{src:a(3850),alt:""}})])}];const ae=()=>J.get("/page/detail",{params:{pageId:0}});var se={name:"HomePage",components:{GoodsItem:yt},data(){return{bannerList:[],navList:[],proList:[]}},async created(){const{data:{pageData:t}}=await ae();this.bannerList=t.items[1].data,this.navList=t.items[3].data,this.proList=t.items[6].data}},ie=se,ne=(0,o.Z)(ie,te,ee,!1,null,"0db9c914",null),oe=ne.exports,re=function(){var t=this,e=t._self._c;return e("div",{staticClass:"category"},[e("van-nav-bar",{attrs:{title:"全部分类",fixed:""}}),e("van-search",{attrs:{readonly:"",shape:"round",background:"#f1f1f2",placeholder:"请输入搜索关键词"},on:{click:function(e){return t.$router.push("/search")}}}),e("div",{staticClass:"list-box"},[e("div",{staticClass:"left"},[e("ul",t._l(t.list,(function(a,s){return e("li",{key:a.category_id},[e("a",{class:{active:s===t.activeIndex},attrs:{href:"javascript:;"},on:{click:function(e){t.activeIndex=s}}},[t._v(t._s(a.name))])])})),0)]),e("div",{staticClass:"right"},t._l(t.list[t.activeIndex]?.children,(function(a){return e("div",{key:a.category_id,staticClass:"cate-goods",on:{click:function(e){return t.$router.push(`/searchlist?categoryId=${a.category_id}`)}}},[e("img",{attrs:{src:a.image?.external_url,alt:""}}),e("p",[t._v(t._s(a.name))])])})),0)])],1)},le=[];const ce=()=>J.get("/category/list");var ue={name:"CategoryPage",created(){this.getCategoryList()},data(){return{list:[],activeIndex:0}},methods:{async getCategoryList(){const{data:{list:t}}=await ce();this.list=t}}},de=ue,me=(0,o.Z)(de,re,le,!1,null,"8f085558",null),pe=me.exports,ve=function(){var t=this;t._self._c;return t._m(0)},he=[function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("Cart")])])}],fe={name:"CartPage",data(){return{}},methods:{},mounted(){}},ge=fe,_e=(0,o.Z)(ge,ve,he,!1,null,null,null),ye=_e.exports,be=function(){var t=this;t._self._c;return t._m(0)},Ce=[function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("User")])])}],ke={name:"UserPage",data(){return{}},methods:{},mounted(){}},xe=ke,we=(0,o.Z)(xe,be,Ce,!1,null,null,null),Ie=we.exports;s.ZP.use(u.ZP);const Pe=[{name:"login",path:"/login",component:X},{path:"/",component:nt,redirect:"/home",children:[{path:"/home",component:oe},{path:"/category",component:pe},{path:"/cart",component:ye},{path:"/user",component:Ie}]},{path:"/search",component:dt},{path:"/searchlist",component:Pt},{path:"/prodetail/:id",component:Xt},{path:"/pay",component:zt},{path:"/myorder",component:Rt}],Se=[{path:"/error",name:"500",component:P},{path:"/*",name:"404",component:y}];Pe.push(...Se);const Ze=new u.ZP({routes:Pe}),Le=["/pay","/myorder"];Ze.beforeEach(((t,e,a)=>{const s=V.getters.token;Le.includes(t.path)?s?a():a("/login"):a()}));var Ae=Ze,Te=a(6259),ze=(a(8694),a(1610)),Ee=(a(5622),a(6940)),Fe=(a(3228),a(202)),Oe=(a(708),a(6448)),$e=(a(8838),a(1392)),qe=(a(8775),a(9978)),Re=(a(4729),a(7763)),Ve=(a(8616),a(8655)),Ne=(a(2287),a(3483)),Ue=(a(2175),a(50)),Ke=(a(2042),a(8521)),Be=(a(5002),a(2476)),je=(a(5440),a(1914)),De=(a(5773),a(5791));const Je=[De.Z,je.Z,Be.Z,Ke.Z,L.Z,Ue.Z,Ne.Z,Ve.Z,Re.Z,qe.Z,$e.Z,Oe.Z,Fe.Z,Ee.Z,ze.Z];Je.forEach((t=>s.ZP.use(t)));s.ZP.config.productionTip=!1,s.ZP.use(Te.Z),new s.ZP({render:t=>t(c),router:Ae,store:V}).$mount("#app")},318:function(t,e,a){t.exports=a.p+"img/astronaut.a82be31c.svg"},7665:function(t,e,a){t.exports=a.p+"img/planet.74a0148a.svg"},3850:function(t,e,a){t.exports=a.p+"img/main.95d4fe07.png"}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,s,i,n){if(!s){var o=1/0;for(u=0;u<t.length;u++){s=t[u][0],i=t[u][1],n=t[u][2];for(var r=!0,l=0;l<s.length;l++)(!1&n||o>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(r=!1,n<o&&(o=n));if(r){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,i,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.p="/luna-shopping-web/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,n,o=s[0],r=s[1],l=s[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(l)var u=l(a)}for(e&&e(s);c<o.length;c++)n=o[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(u)},s=self["webpackChunkluna_shopping_web"]=self["webpackChunkluna_shopping_web"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(4561)}));s=a.O(s)})();
//# sourceMappingURL=app.477a2f65.js.map